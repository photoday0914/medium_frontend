{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\SearchPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\SearchPage.vue","mtime":1645800527743},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJw0KaW1wb3J0IHsgbWFwR2V0dGVyc30gZnJvbSAidnVleCI7DQppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicNCg0KZXhwb3J0IGRlZmF1bHQgeyAgICAgDQogICBkYXRhKCkgeyAgICAgIA0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgcG9zdHM6IFtdLCANCiAgICAgICAgdXNlcnM6IFtdLA0KICAgICAgICB0b3BpY3M6IFtdLA0KICAgICAgICBsb2FkaW5nOnRydWUsDQogICAgICAgIGtleXdvcmQ6ICcnLA0KICAgICAgICB0YWI6IG51bGwsDQogICAgICAgIA0KICAgICAgICBpdGVtczogWw0KICAgICAgICAgICdUaXRsZScsICdVc2VyJywgJ1RvcGljJywNCiAgICAgICAgXSwNCiAgICAgICANCiAgICAgICAgY29udGVudDogW10sDQogICAgICB9DQogICB9LA0KDQogICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwR2V0dGVycyhbJ2dldFVzZXInXSkgICAgICANCiAgIH0sDQogICAgDQogICBjb21wb25lbnRzOiB7DQogICAgICBIZWFkZXIsDQogICAgICAvLyBJbmZpbml0ZUxvYWRpbmcNCiAgIH0sDQogICBjcmVhdGVkKCl7DQogICAgICAgdGhpcy5pbml0KCk7DQogICAgICAgDQogICB9LA0KICAgbW91bnRlZCgpIHsNCiAgICAvLyAgICB0aGlzLmluaXQoKTsNCiAgIH0sDQoNCiAgIG1ldGhvZHM6IHsNCiAgICAgICBpbml0KCl7DQogICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7DQogICAgICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTsNCiAgICAgICAgICAgIHRoaXMua2V5d29yZCA9IHVybFBhcmFtcy5nZXQoJ2tleXdvcmQnKTsNCiAgICAgICAgICAgDQogICAgICAgfSwNCg0KICAgICAgICB2aWV3U3RvcnkocG9zdElkKXsNCiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvdmlldz9wb3N0SWQ9Jytwb3N0SWQpOw0KICAgICAgICB9LA0KDQogICAgICAgY2hhbmdlVGFiKCkgew0KICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zW3RoaXMudGFiXSk7DQogICAgICAgICAgICB0aGlzLiRBeGlvcy5nZXQoJy9hcGkvc2VhcmNoLycrdGhpcy5nZXRVc2VyLmlkKycvJyt0aGlzLnRhYisnP2tleXdvcmQ9Jyt0aGlzLmtleXdvcmQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50YWIpew0KICAgICAgICAgICAgICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RzID0gcmVzLmRhdGE7YnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXMuZGF0YTtjb25zb2xlLmxvZyh0aGlzLnVzZXJzKTticmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY3MgPSByZXMuZGF0YTticmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgfSkNCiAgICAgICB9LA0KDQogICAgICAgIGZvbGxvdyh1c2VyKSB7DQogICAgICAgICAgICBjb25zdCBib2R5ID0gew0KICAgICAgICAgICAgICAgIGZvbGxvd2VkX2lkIDogdXNlci5pZA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kQXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy8nK3RoaXMuZ2V0VXNlci5pZCsnL2ZvbGxvdycsIGJvZHkpLnRoZW4oKHJlcykgPT4geyAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09ICdvaycpIHVzZXIuaXNGb2xsb3cgPSB0cnVlOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgIH0NCn0NCg=="},{"version":3,"sources":["SearchPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<v-app>\r\n   <Header/>\r\n   \r\n   <v-container align=\"center\" class=\"ma-6\">\r\n      <v-row>         \r\n         <v-col cols=\"12\" md=\"12\" class=\"ml-8\">            \r\n            <v-row justify=\"space-around\" class=\"ma-8\">\r\n               <v-col cols=\"12\" md = \"8\">\r\n                <template>\r\n                    <v-card>\r\n                        <v-card-title class=\"text-center justify-center py-6\">\r\n                            <span>Search Results for \"</span>\r\n                            <span class=\"font-weight-bold text-h2\">\r\n                                {{keyword}}\r\n                            </span>\r\n                            <span>\"</span>\r\n                        </v-card-title>\r\n\r\n                        <v-tabs v-model=\"tab\" background-color=\"transparent\" color=\"basil\" grow @change=\"changeTab\">\r\n                            <v-tab v-for=\"item in items\" :key=\"item\">\r\n                                {{ item }}\r\n                            </v-tab>\r\n                        </v-tabs>\r\n\r\n                        <v-tabs-items v-model=\"tab\">\r\n                            \r\n                            <v-tab-item>\r\n                                <v-divider></v-divider>\r\n                                <v-container class=\"ma-3\"><h2>Stories</h2></v-container>\r\n                                <v-card color=\"basil\" flat>\r\n                                    <v-container >\r\n                                        <ul class=\"list-group\" style=\"list-style: none;\">\r\n                                            <li class=\"list-group-item\" v-for=\"post in posts\" :key=\"post.id\">\r\n                                            <v-card color=\"grey lighten-4\" flat tile class=\"ma-6\">\r\n                                                <v-row align=\"center\">\r\n                                                    <v-col>\r\n                                                        <v-container> \r\n                                                            <template v-if=\"loading\">\r\n                                                                <v-progress-linear\r\n                                                                    indeterminate\r\n                                                                    color=\"yellow darken-2\"\r\n                                                                ></v-progress-linear>\r\n                                                            </template>\r\n                                                            <v-row dense align=\"center\">\r\n                                                                <v-col cols=\"12\" md=\"3\">\r\n                                                                    <v-avatar class=\"ma-2\">\r\n                                                                        <img :src=\"post.photo\">\r\n                                                                    </v-avatar>\r\n                                                                </v-col>\r\n                                                                <v-col cols=\"12\" md=\"9\" >\r\n                                                                    <v-row>\r\n                                                                        <v-col cols=\"12\" md=\"9\">\r\n                                                                        <v-container>\r\n                                                                            {{post.date}}\r\n                                                                        </v-container>\r\n                                                                        </v-col>\r\n                                                                        <v-col cols=\"12\" md=\"3\">\r\n                                                                        <v-btn @click=\"viewStory(post.id)\">\r\n                                                                            <v-icon>fa-solid fa-eye</v-icon>\r\n                                                                        </v-btn>                                                   \r\n                                                                        </v-col>\r\n                                                                    </v-row>\r\n                                                                </v-col>\r\n                                                            </v-row>\r\n                                                            <v-row class=\"ma-5\">\r\n                                                                <v-container>\r\n                                                                    <h2 style=\"border-margin: 10px\" v-html=\"post.title\"></h2>\r\n                                                                </v-container>                                           \r\n                                                                <span class=\"ma-6\" v-html=\"post.content.substring(0, 6)\"></span>\r\n                                                            </v-row>\r\n                                                        </v-container>\r\n                                                    </v-col>                                 \r\n                                                </v-row>\r\n                                            </v-card>                                 \r\n                                            </li>\r\n                                        </ul>                     \r\n                                    </v-container>\r\n                                </v-card>\r\n                            </v-tab-item>\r\n                            <v-tab-item>\r\n                                <v-divider></v-divider>\r\n                                <v-card color=\"basil\" flat>\r\n                                    <ul class=\"list-group\" style=\"list-style: none;\">\r\n                                        <li class=\"list-group-item\" v-for=\"user in users\" :key=\"user.id\">\r\n                                        <v-card color=\"grey lighten-4\" flat tile class=\"ma-6\">\r\n                                            <v-row align=\"center\">\r\n                                                <v-col>\r\n                                                    <v-container> \r\n                                                        <template v-if=\"loading\">\r\n                                                            <v-progress-linear indeterminate color=\"yellow darken-2\"></v-progress-linear>\r\n                                                        </template>\r\n                                                        <v-row dense align=\"center\">\r\n                                                            <v-col cols=\"12\" md=\"1\">\r\n                                                                <v-avatar class=\"ma-2\">\r\n                                                                    <img :src=\"user.photo\">\r\n                                                                </v-avatar>\r\n                                                            </v-col>\r\n                                                             <v-col cols=\"12\" md=\"2\">\r\n                                                                <v-container>\r\n                                                                    {{user.name}}\r\n                                                                </v-container>\r\n                                                            </v-col>\r\n                                                            <v-col cols=\"12\" md=\"9\" >\r\n                                                                <v-row>\r\n                                                                    <v-col cols=\"12\" md=\"9\">\r\n                                                                    <v-container>\r\n                                                                        {{user.bio}}\r\n                                                                    </v-container>\r\n                                                                    </v-col>\r\n                                                                    <v-col cols=\"12\" md=\"3\">\r\n                                                                        <v-btn v-if=\"!user.isFollow\" class=\"ma-2\" outlined color=\"indigo\" @click=\"follow(user)\">\r\n                                                                            follow\r\n                                                                        </v-btn>\r\n                                                                    </v-col>\r\n                                                                </v-row>\r\n                                                            </v-col>\r\n                                                        </v-row>                                                        \r\n                                                    </v-container>\r\n                                                </v-col>                                 \r\n                                            </v-row>\r\n                                        </v-card>                                 \r\n                                        </li>\r\n                                    </ul>   \r\n                                </v-card>\r\n                            </v-tab-item>\r\n                            <v-tab-item>\r\n                                <v-divider></v-divider>\r\n                                <v-container>\r\n                                <v-card color=\"basil\" flat>\r\n                                    <v-chip-group>\r\n                                        <v-chip v-for=\"chip in topics\" :key=\"chip.id\">\r\n                                            {{chip.hashtag}}\r\n                                        </v-chip>\r\n                                    </v-chip-group>\r\n                                </v-card>\r\n                                </v-container>\r\n                            </v-tab-item>\r\n                        </v-tabs-items>\r\n                    </v-card>\r\n                </template>\r\n               </v-col>                     \r\n            </v-row>            \r\n         </v-col>         \r\n      </v-row>\r\n   </v-container>\r\n</v-app>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Header from '../components/Header.vue'\r\nimport { mapGetters} from \"vuex\";\r\nimport router from '../router'\r\n\r\nexport default {     \r\n   data() {      \r\n      return {\r\n        posts: [], \r\n        users: [],\r\n        topics: [],\r\n        loading:true,\r\n        keyword: '',\r\n        tab: null,\r\n        \r\n        items: [\r\n          'Title', 'User', 'Topic',\r\n        ],\r\n       \r\n        content: [],\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapGetters(['getUser'])      \r\n   },\r\n    \r\n   components: {\r\n      Header,\r\n      // InfiniteLoading\r\n   },\r\n   created(){\r\n       this.init();\r\n       \r\n   },\r\n   mounted() {\r\n    //    this.init();\r\n   },\r\n\r\n   methods: {\r\n       init(){\r\n            const queryString = window.location.search;\r\n            const urlParams = new URLSearchParams(queryString);\r\n            this.keyword = urlParams.get('keyword');\r\n           \r\n       },\r\n\r\n        viewStory(postId){\r\n            router.push('/view?postId='+postId);\r\n        },\r\n\r\n       changeTab() {\r\n           console.log(this.items[this.tab]);\r\n            this.$Axios.get('/api/search/'+this.getUser.id+'/'+this.tab+'?keyword='+this.keyword).then((res) => {\r\n                switch (this.tab){\r\n                    case 0:\r\n                        this.posts = res.data;break;\r\n                    case 1:\r\n                        this.users = res.data;console.log(this.users);break;\r\n                    case 2:\r\n                        this.topics = res.data;break;\r\n                }\r\n                \r\n                this.loading = false;\r\n                // console.log(res.data);\r\n            })\r\n       },\r\n\r\n        follow(user) {\r\n            const body = {\r\n                followed_id : user.id\r\n            }\r\n            this.$Axios.post('http://localhost:3000/api/users/'+this.getUser.id+'/follow', body).then((res) => {                \r\n                if (res.data.msg == 'ok') user.isFollow = true;\r\n            });\r\n        }\r\n   }\r\n}\r\n</script>"]}]}