{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\story\\YourStoriesPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\story\\YourStoriesPage.vue","mtime":1645801198742},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KICAgaW1wb3J0IEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlYWRlci52dWUnDQogICBpbXBvcnQgeyBtYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IjsNCiAgIGltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vcm91dGVyJw0KICAgLy8gaW1wb3J0IEluZmluaXRlTG9hZGluZyBmcm9tICJ2dWUtaW5maW5pdGUtbG9hZGluZyI7DQpleHBvcnQgZGVmYXVsdCB7ICAgICANCiAgIGRhdGEoKSB7ICAgICAgDQogICAgICByZXR1cm4gew0KICAgICAgICAgcG9zdHM6IFtdLA0KICAgICAgICAgZm9sbG93aW5nczogW10sDQogICAgICAgICBpc0FjdGl2ZTogZmFsc2UsDQogICAgICAgICBsb2FkaW5nOnRydWUsDQogICAgICB9DQogICB9LA0KDQogICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwR2V0dGVycyhbJ2dldFVzZXInXSkgICAgICANCiAgIH0sDQogICAgDQogICBjb21wb25lbnRzOiB7DQogICAgICBIZWFkZXIsDQogICAgICAvLyBJbmZpbml0ZUxvYWRpbmcNCiAgIH0sDQogICBtZXRob2RzOiB7DQogICAgICB2aWV3U3RvcnkocG9zdElkKXsNCiAgICAgICAgIHJvdXRlci5wdXNoKCcvdmlldz9wb3N0SWQ9Jytwb3N0SWQpOw0KICAgICAgfSwNCiAgICAgIGVkaXRTdG9yeShwb3N0SWQpIHsgICAgICAgICANCiAgICAgICAgIHJvdXRlci5wdXNoKCcvZWRpdD9wb3N0SWQ9Jytwb3N0SWQpOw0KICAgICAgfSwNCiAgICAgIGRlbGV0ZVN0b3J5KHBvc3RJZCkgew0KICAgICAgICAgY29uc29sZS5sb2coJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9zdC8nK3Bvc3RJZCk7DQogICAgICAgICANCiAgICAgICAgIHRoaXMuJEF4aW9zLmRlbGV0ZSgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0LycrcG9zdElkKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gdGhpcy5wb3N0cy5maWx0ZXIoZnVuY3Rpb24odmFsdWUpeyANCiAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5pZCAhPSBwb3N0SWQ7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMucG9zdHMgPSBmaWx0ZXJlZDsNCiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7DQogICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGFzeW5jIGdldE15UG9zdHMoKSB7DQogICAgICAgICB0aGlzLiRBeGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvbXlwb3N0cy8nK3RoaXMuZ2V0VXNlci5pZCkNCiAgICAgICAgIC50aGVuKHJlcyA9PiB7ICAgICAgICAgICANCiAgICAgICAgICAgIGZvcihsZXQga2V5IGluIHJlcy5kYXRhKXsNCiAgICAgICAgICAgICAgIHRoaXMucG9zdHMucHVzaChyZXMuZGF0YVtrZXldKQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgDQogICAgICAgICB9KQ0KICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgICAgICBhbGVydCgnZXJyb3InKTsNCiAgICAgICAgIH0pDQogICAgICB9LA0KICAgfSwNCiAgIG1vdW50ZWQoKSB7DQogICAgICAgdGhpcy5nZXRNeVBvc3RzKCk7DQogICAgfQ0KICB9DQo="},{"version":3,"sources":["YourStoriesPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"YourStoriesPage.vue","sourceRoot":"src/views/story","sourcesContent":["<template>\r\n<v-app>\r\n   <Header/>\r\n   \r\n   <v-container align=\"center\" class=\"ma-6\">\r\n      <v-row>         \r\n         <v-col cols=\"12\" md=\"12\" class=\"ml-8\">            \r\n            <v-row justify=\"space-around\" class=\"ma-8\">\r\n               <v-col cols=\"12\" md = \"8\">\r\n                  <v-row>\r\n                     <v-container fluid class=\"ma-6\" style=\"border-bottom: 1px solid black !important\">\r\n                        <h1>Your Stories</h1>\r\n                     </v-container>\r\n                  </v-row>\r\n                  <v-container >\r\n                     <ul class=\"list-group\" style=\"list-style: none;\">\r\n                        <li class=\"list-group-item\" v-for=\"post in posts\" :key=\"post.id\">\r\n                           <v-card color=\"grey lighten-4\" flat tile class=\"ma-6\">\r\n                              <v-row align=\"center\">\r\n                                 <v-col>\r\n                                    <v-container> \r\n                                       <template v-if=\"loading\">\r\n                                          <v-progress-linear\r\n                                             indeterminate\r\n                                             color=\"yellow darken-2\"\r\n                                          ></v-progress-linear>\r\n                                       </template>\r\n                                       <v-row dense align=\"center\">\r\n                                          <v-col cols=\"12\" md=\"3\">\r\n                                             <v-avatar class=\"ma-2\">\r\n                                                <img :src=\"post.photo\">\r\n                                             </v-avatar>\r\n                                          </v-col>\r\n                                          <v-col cols=\"12\" md=\"9\" >\r\n                                             <v-row>\r\n                                                <v-col cols=\"12\" md=\"6\">\r\n                                                   <v-container>\r\n                                                      {{post.date}}\r\n                                                   </v-container>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" md=\"6\">\r\n                                                   <v-btn @click=\"viewStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-eye</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"editStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-pen-to-square</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"deleteStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-trash-can</v-icon>\r\n                                                   </v-btn>\r\n                                                </v-col>\r\n                                             </v-row>\r\n                                          </v-col>\r\n                                       </v-row>\r\n                                       <v-row class=\"ma-5\">\r\n                                          <v-container>\r\n                                             <h2 style=\"border-margin: 10px\" v-html=\"post.title\"></h2>\r\n                                          </v-container>                                           \r\n                                          <span class=\"ma-6\" v-html=\"post.content.substring(0, 6)\"></span>\r\n                                       </v-row>\r\n                                    </v-container>\r\n                                 </v-col>                                 \r\n                              </v-row>\r\n                           </v-card>                                 \r\n                        </li>\r\n                     </ul>                     \r\n                  </v-container>\r\n               </v-col>                     \r\n            </v-row>            \r\n         </v-col>         \r\n      </v-row>\r\n   </v-container>\r\n</v-app>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n   import Header from '../../components/Header.vue'\r\n   import { mapGetters} from \"vuex\";\r\n   import router from '../../router'\r\n   // import InfiniteLoading from \"vue-infinite-loading\";\r\nexport default {     \r\n   data() {      \r\n      return {\r\n         posts: [],\r\n         followings: [],\r\n         isActive: false,\r\n         loading:true,\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapGetters(['getUser'])      \r\n   },\r\n    \r\n   components: {\r\n      Header,\r\n      // InfiniteLoading\r\n   },\r\n   methods: {\r\n      viewStory(postId){\r\n         router.push('/view?postId='+postId);\r\n      },\r\n      editStory(postId) {         \r\n         router.push('/edit?postId='+postId);\r\n      },\r\n      deleteStory(postId) {\r\n         console.log('http://localhost:3000/api/post/'+postId);\r\n         \r\n         this.$Axios.delete('http://localhost:3000/api/post/'+postId).then(() => {\r\n            \r\n            var filtered = this.posts.filter(function(value){ \r\n               return value.id != postId;\r\n            });\r\n            this.posts = filtered;\r\n            this.$forceUpdate();\r\n         })\r\n      },\r\n      async getMyPosts() {\r\n         this.$Axios.get('http://localhost:3000/api/myposts/'+this.getUser.id)\r\n         .then(res => {           \r\n            for(let key in res.data){\r\n               this.posts.push(res.data[key])\r\n            } \r\n            this.loading = false;\r\n            \r\n         })\r\n         .catch(err => {\r\n            console.log(err)\r\n            alert('error');\r\n         })\r\n      },\r\n   },\r\n   mounted() {\r\n       this.getMyPosts();\r\n    }\r\n  }\r\n</script>\r\n"]}]}