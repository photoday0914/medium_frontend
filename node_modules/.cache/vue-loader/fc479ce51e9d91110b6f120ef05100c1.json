{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\views\\story\\YourStoriesPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\views\\story\\YourStoriesPage.vue","mtime":1646452400945},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KICAgaW1wb3J0IEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlYWRlci52dWUnDQogICBpbXBvcnQgU2lkZU1lbnUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TaWRlTWVudS52dWUnDQogICBpbXBvcnQgeyBtYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IjsNCiAgIGltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vcm91dGVyJw0KICAgLy8gaW1wb3J0IEluZmluaXRlTG9hZGluZyBmcm9tICJ2dWUtaW5maW5pdGUtbG9hZGluZyI7DQpleHBvcnQgZGVmYXVsdCB7ICAgICANCiAgIGRhdGEoKSB7ICAgICAgDQogICAgICByZXR1cm4gew0KICAgICAgICAgcG9zdHM6IFtdLA0KICAgICAgICAgZm9sbG93aW5nczogW10sDQogICAgICAgICBpc0FjdGl2ZTogZmFsc2UsDQogICAgICAgICBsb2FkaW5nOnRydWUsDQogICAgICB9DQogICB9LA0KDQogICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwR2V0dGVycyhbJ2dldFVzZXInXSkgICAgICANCiAgIH0sDQogICAgDQogICBjb21wb25lbnRzOiB7DQogICAgICBIZWFkZXIsDQogICAgICBTaWRlTWVudSwNCiAgICAgIC8vIEluZmluaXRlTG9hZGluZw0KICAgfSwNCiAgIG1ldGhvZHM6IHsNCiAgICAgIHZpZXdTdG9yeShwb3N0SWQpew0KICAgICAgICAgcm91dGVyLnB1c2goJy92aWV3P3Bvc3RJZD0nK3Bvc3RJZCk7DQogICAgICB9LA0KICAgICAgZWRpdFN0b3J5KHBvc3RJZCkgeyAgICAgICAgIA0KICAgICAgICAgcm91dGVyLnB1c2goJy9lZGl0P3Bvc3RJZD0nK3Bvc3RJZCk7DQogICAgICB9LA0KICAgICAgZGVsZXRlU3RvcnkocG9zdElkKSB7DQogICAgICAgICBjb25zb2xlLmxvZygnL2FwaS9wb3N0LycrcG9zdElkKTsNCiAgICAgICAgIA0KICAgICAgICAgdGhpcy4kQXhpb3MuZGVsZXRlKCcvYXBpL3Bvc3QvJytwb3N0SWQpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgDQogICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0aGlzLnBvc3RzLmZpbHRlcihmdW5jdGlvbih2YWx1ZSl7IA0KICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmlkICE9IHBvc3RJZDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5wb3N0cyA9IGZpbHRlcmVkOw0KICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsNCiAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgYXN5bmMgZ2V0TXlQb3N0cygpIHsNCiAgICAgICAgIHRoaXMuJEF4aW9zLmdldCgnL2FwaS9wb3N0cy8nK3RoaXMuZ2V0VXNlci5pZCkNCiAgICAgICAgIC50aGVuKHJlcyA9PiB7ICAgICAgICAgICANCiAgICAgICAgICAgIGZvcihsZXQga2V5IGluIHJlcy5kYXRhKXsNCiAgICAgICAgICAgICAgIHRoaXMucG9zdHMucHVzaChyZXMuZGF0YVtrZXldKQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgfSkNCiAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgYWxlcnQoJ2Vycm9yJyk7DQogICAgICAgICB9KQ0KICAgICAgfSwNCiAgIH0sDQogICBtb3VudGVkKCkgew0KICAgICAgdGhpcy4kQXhpb3MuZ2V0KCIvYXBpL3VzZXJzL21lIikudGhlbigodXNlcikgPT4geyAgICAgICAgIA0KICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2VyLmRhdGEpOw0KICAgICAgICAgdGhpcy5nZXRNeVBvc3RzKCk7DQogICAgICB9KTsNCiAgICB9DQogIH0NCg=="},{"version":3,"sources":["YourStoriesPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"YourStoriesPage.vue","sourceRoot":"src/views/story","sourcesContent":["<template>\r\n<v-app>\r\n   <Header/>\r\n   <SideMenu/>\r\n   <v-container align=\"center\" class=\"ma-6\">\r\n      <v-row>         \r\n         <v-col cols=\"12\" md=\"12\" class=\"ml-8\">            \r\n            <v-row justify=\"space-around\" class=\"ma-8\">\r\n               <v-col cols=\"12\" md = \"8\">\r\n                  <v-row>\r\n                     <v-container fluid class=\"ma-6\" style=\"border-bottom: 1px solid black !important\">\r\n                        <h1>Your Stories</h1>\r\n                     </v-container>\r\n                  </v-row>\r\n                  <v-container >\r\n                     <ul class=\"list-group\" style=\"list-style: none;\">\r\n                        <li class=\"list-group-item\" v-for=\"post in posts\" :key=\"post.id\">\r\n                           <v-card color=\"lighten-4\" tile class=\"ma-6\">\r\n                              <v-row align=\"center\">\r\n                                 <v-col>\r\n                                    <v-container> \r\n                                       <template v-if=\"loading\">\r\n                                          <v-progress-linear indeterminate color=\"yellow darken-2\"></v-progress-linear>\r\n                                       </template>\r\n                                       <v-row dense align=\"center\">\r\n                                          <v-col cols=\"12\" md=\"1\">\r\n                                             <v-avatar class=\"ma-2\">\r\n                                                <img :src=\"post.photo\">\r\n                                             </v-avatar>\r\n                                          </v-col>\r\n                                          <v-col cols=\"12\" md=\"11\" >\r\n                                             <v-row>\r\n                                                <v-col cols=\"12\" md=\"8\">\r\n                                                   <v-container>\r\n                                                      {{post.date}}\r\n                                                   </v-container>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" md=\"4\">\r\n                                                   <v-btn @click=\"viewStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-eye</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"editStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-pen-to-square</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"deleteStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-trash-can</v-icon>\r\n                                                   </v-btn>\r\n                                                </v-col>\r\n                                             </v-row>\r\n                                          </v-col>\r\n                                       </v-row>\r\n                                       <v-row class=\"ma-3\">\r\n                                          <v-container>\r\n                                             <v-col align=\"center\">\r\n                                                <h2 style=\"border-margin: 10px\" v-html=\"post.title\"></h2>\r\n                                             </v-col>\r\n                                          </v-container>\r\n                                          <v-row>\r\n                                             <v-col cols=\"12\" md=\"9\">                                         \r\n                                                <!-- <span class=\"ma-6\" v-html=\"post.content.substring(0, 200)\"></span> -->\r\n                                                <span class=\"ma-6\" v-html=\"post.brief+'...'\"></span>\r\n                                             </v-col>\r\n                                             <v-col cols=\"12\" md=\"3\">                                             \r\n                                                <v-img :src=\"post.imgUrl\" max-height=\"200\" max-width=\"200\"></v-img>\r\n                                             </v-col>\r\n                                          </v-row>\r\n                                       </v-row>\r\n                                    </v-container>\r\n                                 </v-col>                                 \r\n                              </v-row>\r\n                           </v-card>                                 \r\n                        </li>\r\n                     </ul>                     \r\n                  </v-container>\r\n               </v-col>                     \r\n            </v-row>            \r\n         </v-col>         \r\n      </v-row>\r\n   </v-container>\r\n</v-app>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n   import Header from '../../components/Header.vue'\r\n   import SideMenu from '../../components/SideMenu.vue'\r\n   import { mapGetters} from \"vuex\";\r\n   import router from '../../router'\r\n   // import InfiniteLoading from \"vue-infinite-loading\";\r\nexport default {     \r\n   data() {      \r\n      return {\r\n         posts: [],\r\n         followings: [],\r\n         isActive: false,\r\n         loading:true,\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapGetters(['getUser'])      \r\n   },\r\n    \r\n   components: {\r\n      Header,\r\n      SideMenu,\r\n      // InfiniteLoading\r\n   },\r\n   methods: {\r\n      viewStory(postId){\r\n         router.push('/view?postId='+postId);\r\n      },\r\n      editStory(postId) {         \r\n         router.push('/edit?postId='+postId);\r\n      },\r\n      deleteStory(postId) {\r\n         console.log('/api/post/'+postId);\r\n         \r\n         this.$Axios.delete('/api/post/'+postId).then(() => {\r\n            \r\n            var filtered = this.posts.filter(function(value){ \r\n               return value.id != postId;\r\n            });\r\n            this.posts = filtered;\r\n            this.$forceUpdate();\r\n         })\r\n      },\r\n      async getMyPosts() {\r\n         this.$Axios.get('/api/posts/'+this.getUser.id)\r\n         .then(res => {           \r\n            for(let key in res.data){\r\n               this.posts.push(res.data[key])\r\n            } \r\n            this.loading = false;\r\n            console.log(res.data);\r\n         })\r\n         .catch(err => {\r\n            console.log(err)\r\n            alert('error');\r\n         })\r\n      },\r\n   },\r\n   mounted() {\r\n      this.$Axios.get(\"/api/users/me\").then((user) => {         \r\n         this.$store.dispatch('setUser', user.data);\r\n         this.getMyPosts();\r\n      });\r\n    }\r\n  }\r\n</script>\r\n"]}]}