{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\router.js","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\router.js","mtime":1645233395135},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\eslint-loader\\index.js","mtime":1643426028315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnOwppbXBvcnQgTGFuZGluZ1BhZ2UgZnJvbSAnLi92aWV3cy9MYW5kaW5nUGFnZSc7CmltcG9ydCBMb2dpblBhZ2UgZnJvbSAnLi92aWV3cy9hdXRoL0xvZ2luUGFnZSc7CmltcG9ydCBSZWdpc3RlclBhZ2UgZnJvbSAnLi92aWV3cy9hdXRoL1JlZ2lzdGVyUGFnZSc7CmltcG9ydCBMb2dpblJlZGlyZWN0UGFnZSBmcm9tICcuL3ZpZXdzL2F1dGgvQXV0aFJlZGlyZWN0UGFnZSc7CmltcG9ydCBPYXV0aFJlZGlyZWN0UGFnZSBmcm9tICcuL3ZpZXdzL2F1dGgvT2F1dGhSZWRpcmVjdFBhZ2UnOwppbXBvcnQgRGFzaGJvYXJkUGFnZSBmcm9tICcuL3ZpZXdzL0Rhc2hib2FyZFBhZ2UnOwppbXBvcnQgUHJvZmlsZVBhZ2UgZnJvbSAnLi92aWV3cy9Qcm9maWxlUGFnZSc7CmltcG9ydCBXcml0ZVBhZ2UgZnJvbSAnLi92aWV3cy9Xcml0ZVBhZ2UnOwppbXBvcnQgeyByZWZyZXNoVG9rZW4gfSBmcm9tICcuL3NlcnZpY2UvbG9naW4nOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBjb21wb25lbnQ6IExhbmRpbmdQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIGNvbXBvbmVudDogTG9naW5QYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIGNvbXBvbmVudDogUmVnaXN0ZXJQYWdlCn0sIHsKICBwYXRoOiAnL2xvZ2luLXJlZGlyZWN0JywKICBjb21wb25lbnQ6IExvZ2luUmVkaXJlY3RQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvb2F1dGgtcmVkaXJlY3QnLAogIGNvbXBvbmVudDogT2F1dGhSZWRpcmVjdFBhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9kYXNoYm9hcmQnLAogIGNvbXBvbmVudDogRGFzaGJvYXJkUGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3Byb2ZpbGUnLAogIGNvbXBvbmVudDogUHJvZmlsZVBhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy93cml0ZScsCiAgY29tcG9uZW50OiBXcml0ZVBhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9IC8vIHsgcGF0aDogJyonLCByZWRpcmVjdDogJy8nIH0KXTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEoVnVlQ29va2llcy5nZXQoJ3Rva2VuJykgPT09IG51bGwgJiYgVnVlQ29va2llcy5nZXQoJ3JlZnJlc2hUb2tlbicpICE9PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHJlZnJlc2hUb2tlbigpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaWYgKCEodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLm1ldGEudW5hdXRob3JpemVkOwogICAgICAgICAgICB9KSB8fCBWdWVDb29raWVzLmdldCgndG9rZW4nKSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgbG9naW4nKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgnL2xvZ2luJykpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/GreatHope/Documents/vue_practice/vue_project/second/src/router.js"],"names":["Vue","VueRouter","VueCookies","LandingPage","LoginPage","RegisterPage","LoginRedirectPage","OauthRedirectPage","DashboardPage","ProfilePage","WritePage","refreshToken","use","routes","path","component","meta","unauthorized","router","mode","beforeEach","to","from","next","get","matched","some","record","alert"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport VueRouter from \"vue-router\";\r\nimport VueCookies from 'vue-cookies'\r\n\r\n\r\nimport LandingPage from './views/LandingPage'\r\nimport LoginPage from './views/auth/LoginPage'\r\nimport RegisterPage from './views/auth/RegisterPage'\r\nimport LoginRedirectPage from './views/auth/AuthRedirectPage'\r\nimport OauthRedirectPage from './views/auth/OauthRedirectPage'\r\nimport DashboardPage from './views/DashboardPage'\r\nimport ProfilePage from './views/ProfilePage'\r\nimport WritePage from './views/WritePage'\r\n\r\nimport { refreshToken } from './service/login'\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  { path: '/', component: LandingPage, meta: { unauthorized : true } },\r\n  { path: '/login', component: LoginPage, meta: { unauthorized : true } },\r\n  { path: '/register', component: RegisterPage },  \r\n  { path: '/login-redirect', component: LoginRedirectPage, meta: { unauthorized : true }},\r\n  { path: '/oauth-redirect', component: OauthRedirectPage, meta: { unauthorized : true }},\r\n  { path: '/dashboard', component: DashboardPage, meta: { unauthorized : true }},\r\n  { path: '/profile', component: ProfilePage, meta: { unauthorized : true }},\r\n  { path: '/write', component: WritePage, meta: { unauthorized : true }},\r\n  // { path: '*', redirect: '/' }\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach( async(to, from, next) => {\r\n\r\n  if(VueCookies.get('token')===null && VueCookies.get('refreshToken') !== null){\r\n    await refreshToken();\r\n  }\r\n\r\n  if (to.matched.some(record => record.meta.unauthorized) || VueCookies.get('token')){\r\n    return next();\r\n  }\r\n\r\n    alert('Please login');\r\n    return next('/login');\r\n})\r\n\r\nexport default router;"]}]}