{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\story\\YourStoriesPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\story\\YourStoriesPage.vue","mtime":1646194209468},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IFNpZGVNZW51IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2lkZU1lbnUudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL3JvdXRlcic7IC8vIGltcG9ydCBJbmZpbml0ZUxvYWRpbmcgZnJvbSAidnVlLWluZmluaXRlLWxvYWRpbmciOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb3N0czogW10sCiAgICAgIGZvbGxvd2luZ3M6IFtdLAogICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2dldFVzZXInXSkpLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgU2lkZU1lbnU6IFNpZGVNZW51IC8vIEluZmluaXRlTG9hZGluZwoKICB9LAogIG1ldGhvZHM6IHsKICAgIHZpZXdTdG9yeTogZnVuY3Rpb24gdmlld1N0b3J5KHBvc3RJZCkgewogICAgICByb3V0ZXIucHVzaCgnL3ZpZXc/cG9zdElkPScgKyBwb3N0SWQpOwogICAgfSwKICAgIGVkaXRTdG9yeTogZnVuY3Rpb24gZWRpdFN0b3J5KHBvc3RJZCkgewogICAgICByb3V0ZXIucHVzaCgnL2VkaXQ/cG9zdElkPScgKyBwb3N0SWQpOwogICAgfSwKICAgIGRlbGV0ZVN0b3J5OiBmdW5jdGlvbiBkZWxldGVTdG9yeShwb3N0SWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QvJyArIHBvc3RJZCk7CiAgICAgIHRoaXMuJEF4aW9zLmRlbGV0ZSgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0LycgKyBwb3N0SWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBmaWx0ZXJlZCA9IF90aGlzLnBvc3RzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZS5pZCAhPSBwb3N0SWQ7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLnBvc3RzID0gZmlsdGVyZWQ7CgogICAgICAgIF90aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRNeVBvc3RzOiBmdW5jdGlvbiBnZXRNeVBvc3RzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLiRBeGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9zdHMvJyArIF90aGlzMi5nZXRVc2VyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBvc3RzLnB1c2gocmVzLmRhdGFba2V5XSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgYWxlcnQoJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMuJEF4aW9zLmdldCgiL2FwaS91c2Vycy9tZSIpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnc2V0VXNlcicsIHVzZXIuZGF0YSk7CgogICAgICBfdGhpczMuZ2V0TXlQb3N0cygpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["YourStoriesPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA,OAAA,MAAA,MAAA,6BAAA;AACA,OAAA,QAAA,MAAA,+BAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,cAAA,C,CACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GARA;AAUA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CAVA;AAcA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,QAAA,EAAA,QAFA,CAGA;;AAHA,GAdA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,MADA,EACA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,kBAAA,MAAA;AACA,KAHA;AAIA,IAAA,SAJA,qBAIA,MAJA,EAIA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,kBAAA,MAAA;AACA,KANA;AAOA,IAAA,WAPA,uBAOA,MAPA,EAOA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oCAAA,MAAA;AAEA,WAAA,MAAA,CAAA,MAAA,CAAA,oCAAA,MAAA,EAAA,IAAA,CAAA,YAAA;AAEA,YAAA,QAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA;AACA,iBAAA,KAAA,CAAA,EAAA,IAAA,MAAA;AACA,SAFA,CAAA;;AAGA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA;;AACA,QAAA,KAAA,CAAA,YAAA;AACA,OAPA;AAQA,KAlBA;AAmBA,IAAA,UAnBA,wBAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,MAAA,CAAA,GAAA,CAAA,qCAAA,MAAA,CAAA,OAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,uBAAA,IAAA,GAAA,IAAA,GAAA,CAAA,IAAA,EAAA;AACA,oBAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AACA,kBAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,iBAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA;AACA,iBAXA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAhCA,GAnBA;AAqDA,EAAA,OArDA,qBAqDA;AAAA;;AACA,SAAA,MAAA,CAAA,GAAA,CAAA,eAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA,CAAA,IAAA;;AACA,MAAA,MAAA,CAAA,UAAA;AACA,KAHA;AAIA;AA1DA,CAAA","sourcesContent":["<template>\r\n<v-app>\r\n   <Header/>\r\n   <SideMenu/>\r\n   <v-container align=\"center\" class=\"ma-6\">\r\n      <v-row>         \r\n         <v-col cols=\"12\" md=\"12\" class=\"ml-8\">            \r\n            <v-row justify=\"space-around\" class=\"ma-8\">\r\n               <v-col cols=\"12\" md = \"8\">\r\n                  <v-row>\r\n                     <v-container fluid class=\"ma-6\" style=\"border-bottom: 1px solid black !important\">\r\n                        <h1>Your Stories</h1>\r\n                     </v-container>\r\n                  </v-row>\r\n                  <v-container >\r\n                     <ul class=\"list-group\" style=\"list-style: none;\">\r\n                        <li class=\"list-group-item\" v-for=\"post in posts\" :key=\"post.id\">\r\n                           <v-card color=\"lighten-4\" tile class=\"ma-6\">\r\n                              <v-row align=\"center\">\r\n                                 <v-col>\r\n                                    <v-container> \r\n                                       <template v-if=\"loading\">\r\n                                          <v-progress-linear indeterminate color=\"yellow darken-2\"></v-progress-linear>\r\n                                       </template>\r\n                                       <v-row dense align=\"center\">\r\n                                          <v-col cols=\"12\" md=\"1\">\r\n                                             <v-avatar class=\"ma-2\">\r\n                                                <img :src=\"post.photo\">\r\n                                             </v-avatar>\r\n                                          </v-col>\r\n                                          <v-col cols=\"12\" md=\"11\" >\r\n                                             <v-row>\r\n                                                <v-col cols=\"12\" md=\"8\">\r\n                                                   <v-container>\r\n                                                      {{post.date}}\r\n                                                   </v-container>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" md=\"4\">\r\n                                                   <v-btn @click=\"viewStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-eye</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"editStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-pen-to-square</v-icon>\r\n                                                   </v-btn>\r\n                                                   <v-btn @click=\"deleteStory(post.id)\">\r\n                                                      <v-icon>fa-solid fa-trash-can</v-icon>\r\n                                                   </v-btn>\r\n                                                </v-col>\r\n                                             </v-row>\r\n                                          </v-col>\r\n                                       </v-row>\r\n                                       <v-row class=\"ma-3\">\r\n                                          <v-container>\r\n                                             <v-col align=\"center\">\r\n                                                <h2 style=\"border-margin: 10px\" v-html=\"post.title\"></h2>\r\n                                             </v-col>\r\n                                          </v-container>\r\n                                          <v-row>\r\n                                             <v-col cols=\"12\" md=\"9\">                                         \r\n                                                <!-- <span class=\"ma-6\" v-html=\"post.content.substring(0, 200)\"></span> -->\r\n                                                <span class=\"ma-6\" v-html=\"post.brief+'...'\"></span>\r\n                                             </v-col>\r\n                                             <v-col cols=\"12\" md=\"3\">                                             \r\n                                                <v-img :src=\"post.imgUrl\" max-height=\"200\" max-width=\"200\"></v-img>\r\n                                             </v-col>\r\n                                          </v-row>\r\n                                       </v-row>\r\n                                    </v-container>\r\n                                 </v-col>                                 \r\n                              </v-row>\r\n                           </v-card>                                 \r\n                        </li>\r\n                     </ul>                     \r\n                  </v-container>\r\n               </v-col>                     \r\n            </v-row>            \r\n         </v-col>         \r\n      </v-row>\r\n   </v-container>\r\n</v-app>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n   import Header from '../../components/Header.vue'\r\n   import SideMenu from '../../components/SideMenu.vue'\r\n   import { mapGetters} from \"vuex\";\r\n   import router from '../../router'\r\n   // import InfiniteLoading from \"vue-infinite-loading\";\r\nexport default {     \r\n   data() {      \r\n      return {\r\n         posts: [],\r\n         followings: [],\r\n         isActive: false,\r\n         loading:true,\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapGetters(['getUser'])      \r\n   },\r\n    \r\n   components: {\r\n      Header,\r\n      SideMenu,\r\n      // InfiniteLoading\r\n   },\r\n   methods: {\r\n      viewStory(postId){\r\n         router.push('/view?postId='+postId);\r\n      },\r\n      editStory(postId) {         \r\n         router.push('/edit?postId='+postId);\r\n      },\r\n      deleteStory(postId) {\r\n         console.log('http://localhost:3000/api/post/'+postId);\r\n         \r\n         this.$Axios.delete('http://localhost:3000/api/post/'+postId).then(() => {\r\n            \r\n            var filtered = this.posts.filter(function(value){ \r\n               return value.id != postId;\r\n            });\r\n            this.posts = filtered;\r\n            this.$forceUpdate();\r\n         })\r\n      },\r\n      async getMyPosts() {\r\n         this.$Axios.get('http://localhost:3000/api/posts/'+this.getUser.id)\r\n         .then(res => {           \r\n            for(let key in res.data){\r\n               this.posts.push(res.data[key])\r\n            } \r\n            this.loading = false;\r\n            console.log(res.data);\r\n         })\r\n         .catch(err => {\r\n            console.log(err)\r\n            alert('error');\r\n         })\r\n      },\r\n   },\r\n   mounted() {\r\n      this.$Axios.get(\"/api/users/me\").then((user) => {         \r\n         this.$store.dispatch('setUser', user.data);\r\n         this.getMyPosts();\r\n      });\r\n    }\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/story"}]}