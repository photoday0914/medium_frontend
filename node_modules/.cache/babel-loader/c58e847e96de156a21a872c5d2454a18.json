{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\AuthRedirectPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\AuthRedirectPage.vue","mtime":1644824969234},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsic2V0VXNlciIsICJzZXRUb2tlbiJdKSksIHt9LCB7CiAgICBTZW5kQ29uZmlybUNvZGU6IGZ1bmN0aW9uIFNlbmRDb25maXJtQ29kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdnZXR0b2tlbicpOwogICAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7CiAgICAgIHZhciBjb25maXJtYXRpb25fY29kZSA9IHVybFBhcmFtcy5nZXQoJ2NvbmZpcm1hdGlvbl9jb2RlJyk7CiAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1hdGlvbl9jb2RlKTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvY29uZmlybS8iLmNvbmNhdChjb25maXJtYXRpb25fY29kZSkpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgdXNlciwgdG9rZW47CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgIHVzZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmlkLAogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXMuZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogcmVzLmRhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgYmlvOiByZXMuZGF0YS5iaW8sCiAgICAgICAgICAgICAgICAgICAgc29jaWFsX25vdGlmaWNhdGlvbjogZmFsc2UKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdG9rZW4gPSB7CiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHJlcy5kYXRhLmFjY2Vzc1Rva2VuLAogICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVzLmRhdGEucmVmcmVzaFRva2VuCiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2VyKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0VG9rZW4nLCB0b2tlbik7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGVyZToiLmNvbmNhdChfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCkpOwogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIkZhaWxlZCB0byByZWdpc3Rlci4gQ29uZmlybSBhY2NvdW50IGluZm8uIik7CiAgICAgIH0pOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLlNlbmRDb25maXJtQ29kZSgpOwogIH0KfTs="},{"version":3,"sources":["AuthRedirectPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAQA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,UAAA,SAAA,GAAA,IAAA,eAAA,CAAA,WAAA,CAAA;AACA,UAAA,iBAAA,GAAA,SAAA,CAAA,GAAA,CAAA,mBAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,0CAAA,MAAA,CAAA,iBAAA,CADA,EAEA,IAFA;AAAA,2EAEA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,kBAAA,IAHA,GAGA;AACA,oBAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EADA;AAEA,oBAAA,QAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAFA;AAGA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAHA;AAIA,oBAAA,GAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAJA;AAKA,oBAAA,mBAAA,EAAA;AALA,mBAHA;AAUA,kBAAA,KAVA,GAUA;AACA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,WADA;AAEA,oBAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,mBAVA;;AAcA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;;AAEA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CAAA;AAEA,kBAAA,MAAA,CAAA,IAAA,CAAA,YAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFA;;AAAA;AAAA;AAAA;AAAA,WAuBA,KAvBA,CAuBA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2CAAA;AACA,OAzBA;AA0BA;AAlCA,IARA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,eAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\r\n<v-app>\r\n   <v-card\r\n   color=\"grey lighten-4\"\r\n   flat   \r\n   tile\r\n   >\r\n      <v-toolbar dense>                 \r\n         <v-toolbar-title ><div class=\"font-weight-medium\">Medium</div></v-toolbar-title>         \r\n         <v-spacer></v-spacer>\r\n         <router-link    \r\n            to=\"/login\" tag=\"div\">\r\n            <v-btn\r\n            class=\"ma-2\"  \r\n            outlined                      \r\n            color=\"#009688\"       \r\n            >SingIn\r\n            </v-btn>\r\n         </router-link>\r\n         <router-link to=\"/register\" tag=\"div\">\r\n            <v-btn\r\n               class=\"ma-2\"  \r\n               outlined                      \r\n               color=\"#2979FF\"            \r\n            >GetStarted\r\n            </v-btn>\r\n         </router-link>\r\n      </v-toolbar>\r\n   </v-card> \r\n</v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapMutations } from \"vuex\";\r\nimport router from '../../router'\r\n  export default {\r\n     \r\n   data() {\r\n      return {\r\n         posts: []\r\n      }\r\n   },\r\n    \r\n   methods: {\r\n      ...mapMutations([\"setUser\", \"setToken\"]),\r\n       SendConfirmCode() {\r\n         console.log('gettoken');\r\n         const queryString = window.location.search;\r\n         const urlParams = new URLSearchParams(queryString);\r\n         const confirmation_code = urlParams.get('confirmation_code')\r\n         console.log(confirmation_code)\r\n         axios\r\n        .get(\"http://localhost:3000/api/auth/confirm/\".concat(confirmation_code))\r\n        .then(async res => {\r\n            // console.log(res);\r\n\r\n            const user = {\r\n               id : res.data.id,\r\n               username: res.data.username,\r\n               email: res.data.email,\r\n               bio: res.data.bio,\r\n               social_notification: false\r\n            };\r\n            const token = {\r\n               token: res.data.accessToken,\r\n               refreshToken: res.data.refreshToken\r\n            }\r\n            this.$store.dispatch('setUser', user)\r\n            this.$store.dispatch('setToken', token)\r\n\r\n            console.log(\"here:\".concat(this.$store.state.user.id));\r\n\r\n            router.push('/dashboard')\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Failed to register. Confirm account info.\");\r\n        });\r\n       },\r\n       \r\n    },\r\n\r\n   mounted() {       \r\n      this.SendConfirmCode();\r\n    },\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/auth"}]}