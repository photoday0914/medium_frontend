{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\DashboardPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\DashboardPage.vue","mtime":1645928413460},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxHcmVhdEhvcGVcXERvY3VtZW50c1xcdnVlX3ByYWN0aWNlXFx2dWVfcHJvamVjdFxcc2Vjb25kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEhlYWRlciBmcm9tICcuLi9jb21wb25lbnRzL0hlYWRlci52dWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOyAvLyBpbXBvcnQgSW5maW5pdGVMb2FkaW5nIGZyb20gInZ1ZS1pbmZpbml0ZS1sb2FkaW5nIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdHM6IFtdLAogICAgICBsb2FkTnVtOiAwLAogICAgICBmb2xsb3dpbmdzOiBbXSwKICAgICAgaXNBY3RpdmU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydnZXRVc2VyJ10pKSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlciAvLyBJbmZpbml0ZUxvYWRpbmcKCiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ2dldE1lJ10pKSwge30sIHsKICAgIGluZmluaXRlSGFuZGxlcjogZnVuY3Rpb24gaW5maW5pdGVIYW5kbGVyKCRzdGF0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kQXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3RzLycgKyB0aGlzLmxvYWROdW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS50b3RhbFBhZ2VzID09IF90aGlzLmxvYWROdW0pIHsKICAgICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5jb250ZW50OwoKICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgICAgICBfdGhpcy5wb3N0cy5wdXNoKGRhdGFba2V5XSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzLmxvYWROdW0rKzsKICAgICAgICAgICAgJHN0YXRlLmxvYWRlZCgpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICBhbGVydCgnZXJyb3InKTsKICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUubG9naW5TdGF0ZSA9IGZhbHNlOwogICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiA9IG51bGw7IC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBvc3RzOiBmdW5jdGlvbiBnZXRQb3N0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRBeGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9zdHMvJyArIHRoaXMubG9hZE51bSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIHJlcy5kYXRhKSB7CiAgICAgICAgICBfdGhpczIucG9zdHMucHVzaChyZXMuZGF0YVtrZXldKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIGFsZXJ0KCdlcnJvcicpOwogICAgICB9KTsKICAgIH0sCiAgICBnZUZvbGxvd2luZzogZnVuY3Rpb24gZ2VGb2xsb3dpbmcoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coImdldEZvbGxvd2luZzoiICsgdGhpcy5nZXRVc2VyLmlkKTsgLy8gIGNvbnNvbGUubG9nKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzLycrdGhpcy5nZXRVc2VyLmlkKycvZm9sbG93aW5nJyk7CgogICAgICB0aGlzLiRBeGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvJyArIHRoaXMuZ2V0VXNlci5pZCArICcvZm9sbG93aW5nJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIHJlcy5kYXRhKSB7CiAgICAgICAgICBfdGhpczMuZm9sbG93aW5ncy5wdXNoKHJlcy5kYXRhW2tleV0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgYWxlcnQoJ2Vycm9yJyk7CiAgICAgIH0pOwogICAgfSwKICAgIHZpZXdTdG9yeTogZnVuY3Rpb24gdmlld1N0b3J5KHBvc3RJZCkgewogICAgICByb3V0ZXIucHVzaCgnL3ZpZXc/cG9zdElkPScgKyBwb3N0SWQpOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICB0aGlzLiRBeGlvcy5nZXQoIi9hcGkvdXNlcnMvbWUiKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2VyLmRhdGEpOwoKICAgICAgX3RoaXM0LmdlRm9sbG93aW5nKCk7CiAgICB9KTsKICAgIHRoaXMuZ2V0UG9zdHMoKTsKICB9Cn07"},{"version":3,"sources":["DashboardPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<v-app>\r\n   <Header/>\r\n   \r\n   <v-container align=\"center\" class=\"ma-6\">\r\n      <v-row>\r\n         \r\n         <v-col cols=\"12\" md=\"12\" class=\"ml-8\">\r\n            \r\n            <v-row justify=\"space-around\" class=\"ma-8\">\r\n               <v-col cols=\"12\" md=\"8\">\r\n                  <v-row justify=\"space-around\">\r\n                     <v-col cols=\"12\" md = \"8\">\r\n                        <v-row>\r\n                           <v-container fluid class=\"ma-6\" style=\"border-bottom: 1px solid black !important\">\r\n                              <v-sheet class=\"mx-auto\" max-width=\"600\">\r\n                                 <v-slide-group multiple show-arrows>\r\n                                    <v-slide-item v-for=\"following in followings\" :key=\"following.id\" >\r\n                                       <v-btn fab dark class=\"mx-2\" >\r\n                                          <v-avatar class=\"ma-2\">\r\n                                             <v-img                                    \r\n                                             :src=\"following.photo\"\r\n                                             alt=\"John\"\r\n                                             ></v-img>\r\n                                          </v-avatar>            \r\n                                       </v-btn>\r\n                                    </v-slide-item>\r\n                                 </v-slide-group>\r\n                              </v-sheet>\r\n                           </v-container>\r\n                        </v-row>\r\n                        <v-container class=\"ma-6\" >                      \r\n                        \r\n                           <ul class=\"list-group\">\r\n                              <li class=\"list-group-item\" v-for=\"post in posts\" :key=\"post.id\">\r\n                                 <v-card color=\"grey lighten-4\" flat tile class=\"ma-6\" @click=\"viewStory(post.id)\"> \r\n                                    <v-container>\r\n                                       <v-row dense align=\"center\">\r\n                                          <v-col cols=\"12\" md=\"3\">\r\n                                             <v-avatar class=\"ma-2\">\r\n                                                <img :src=\"post.photo\">\r\n                                             </v-avatar>\r\n                                          </v-col>\r\n                                          <v-col cols=\"12\" md=\"9\" >\r\n                                             {{post.name}}\r\n                                          </v-col>\r\n                                       </v-row>\r\n                                       <h2 v-html=\"post.title\" style=\"border-margin: 10px\"></h2>\r\n                                       \r\n                                       <span class=\"ma-6\" v-html=\"post.content.substring(0, 6)\"></span>\r\n                                    </v-container>\r\n                                 </v-card>\r\n                                 \r\n                              </li>\r\n                           </ul>\r\n                     \r\n                     <!-- <infinite-loading @infinite=\"infiniteHandler\" spinner=\"waveDots\"></infinite-loading> -->\r\n                        </v-container>\r\n                     </v-col>\r\n                     <v-col cols=\"12\" md=\"4\" align=\"center\" style=\"border-left: 1px solid black !important\">\r\n                        <v-container class=\"ma-5\" >\r\n                           <h2>Who to follow</h2>\r\n                           <v-container class=\"ma-5\">\r\n                              <v-list-item\r\n                                 v-for=\"following in followings\"\r\n                                 :key=\"following.i\"\r\n                              >\r\n                                 <v-btn fab dark class=\"mx-2\" >\r\n                                    <v-avatar class=\"ma-2\">\r\n                                       <v-img                                    \r\n                                       :src=\"following.photo\"\r\n                                       alt=\"John\"\r\n                                       ></v-img>\r\n                                    </v-avatar>            \r\n                                 </v-btn>\r\n                                 <v-col cols=\"12\" md=\"9\" >\r\n                                    {{following.name}}\r\n                                 </v-col>\r\n                              </v-list-item>\r\n                           </v-container>\r\n                        </v-container>\r\n                     </v-col>\r\n                  </v-row>\r\n               </v-col>\r\n               \r\n            </v-row>\r\n            \r\n         </v-col>\r\n         \r\n      </v-row>\r\n   </v-container>\r\n</v-app>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n   import Header from '../components/Header.vue'\r\n   import { mapGetters, mapMutations} from \"vuex\";\r\n   import router from '../router'\r\n   // import InfiniteLoading from \"vue-infinite-loading\";\r\n   export default {\r\n     \r\n   data() {      \r\n      return {\r\n         posts: [],\r\n         loadNum: 0,\r\n         followings: [\r\n        \r\n         ],\r\n      isActive: false,\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapGetters(['getUser'])      \r\n   },\r\n    \r\n   components: {\r\n      Header,\r\n      // InfiniteLoading\r\n    },\r\n    methods: {\r\n       ...mapMutations(['getMe']),\r\n      infiniteHandler($state) {\r\n         this.$Axios.get('http://localhost:3000/api/posts/'+this.loadNum)\r\n         .then(res => {\r\n               if(res.data.totalPages == this.loadNum){\r\n                  $state.complete();\r\n               }else{\r\n                  setTimeout(() => {\r\n                        const data = res.data.content;\r\n                        for(let key in data){\r\n                           this.posts.push(data[key])\r\n                        }\r\n                        this.loadNum++;\r\n                        $state.loaded();\r\n                  }, 1000)\r\n               }\r\n            })\r\n            .catch(err => {\r\n               console.log(err)\r\n               alert('error');\r\n               localStorage.clear();\r\n               this.$store.state.loginState = false;\r\n               this.$store.state.token = null;\r\n               // this.$router.push('/');\r\n            })\r\n      },\r\n\r\n      getPosts() {\r\n         this.$Axios.get('http://localhost:3000/api/posts/'+this.loadNum)\r\n         .then(res => {         \r\n            for(let key in res.data){\r\n               this.posts.push(res.data[key])\r\n            }\r\n            })\r\n            .catch(err => {\r\n               console.log(err)\r\n               alert('error');              \r\n            })\r\n      },\r\n\r\n      geFollowing() {\r\n         console.log(\"getFollowing:\"+this.getUser.id); \r\n         //  console.log('http://localhost:3000/api/users/'+this.getUser.id+'/following');\r\n          this.$Axios.get('http://localhost:3000/api/users/'+this.getUser.id+'/following')\r\n         .then(res => {    \r\n                \r\n            for(let key in res.data){\r\n               this.followings.push(res.data[key])\r\n            }                 \r\n         })\r\n         .catch(err => {\r\n            console.log(err)\r\n            alert('error');\r\n         })\r\n      },\r\n\r\n      viewStory(postId) {\r\n         router.push('/view?postId='+postId);\r\n      }\r\n    },\r\n   \r\n\r\n    mounted() {\r\n      this.$Axios.get(\"/api/users/me\").then((user) => {         \r\n         this.$store.dispatch('setUser', user.data);\r\n         this.geFollowing();\r\n      });      \r\n       this.getPosts();\r\n       \r\n    }\r\n   \r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views"}]}