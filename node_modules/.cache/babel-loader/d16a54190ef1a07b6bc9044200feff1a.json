{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\AuthRedirectPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\AuthRedirectPage.vue","mtime":1645836856292},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXHZ1ZV9wcmFjdGljZVxcdnVlX3Byb2plY3RcXHNlY29uZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb3N0czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInNldFVzZXIiLCAic2V0VG9rZW4iXSkpLCB7fSwgewogICAgU2VuZENvbmZpcm1Db2RlOiBmdW5jdGlvbiBTZW5kQ29uZmlybUNvZGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnZ2V0dG9rZW4nKTsKICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICB2YXIgY29uZmlybWF0aW9uX2NvZGUgPSB1cmxQYXJhbXMuZ2V0KCdjb25maXJtYXRpb25fY29kZScpOwogICAgICBjb25zb2xlLmxvZyhjb25maXJtYXRpb25fY29kZSk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hdXRoL2NvbmZpcm0vIi5jb25jYXQoY29uZmlybWF0aW9uX2NvZGUpKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIHVzZXIsIHRva2VuOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICB1c2VyID0gewogICAgICAgICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXMuZGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOiByZXMuZGF0YS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBiaW86IHJlcy5kYXRhLmJpbywKICAgICAgICAgICAgICAgICAgICBzb2NpYWxfbm90aWZpY2F0aW9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwaG90bzogcmVzLmRhdGEucGhvdG8KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdG9rZW4gPSB7CiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHJlcy5kYXRhLmFjY2Vzc1Rva2VuLAogICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVzLmRhdGEucmVmcmVzaFRva2VuCiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2VyKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0VG9rZW4nLCB0b2tlbik7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGVyZToiLmNvbmNhdChfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCkpOwogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIkZhaWxlZCB0byByZWdpc3Rlci4gQ29uZmlybSBhY2NvdW50IGluZm8uIik7CiAgICAgIH0pOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLlNlbmRDb25maXJtQ29kZSgpOwogIH0KfTs="},{"version":3,"sources":["AuthRedirectPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAQA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,UAAA,SAAA,GAAA,IAAA,eAAA,CAAA,WAAA,CAAA;AACA,UAAA,iBAAA,GAAA,SAAA,CAAA,GAAA,CAAA,mBAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,0CAAA,MAAA,CAAA,iBAAA,CADA,EAEA,IAFA;AAAA,2EAEA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,kBAAA,IAHA,GAGA;AACA,oBAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EADA;AAEA,oBAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAFA;AAGA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAHA;AAIA,oBAAA,GAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAJA;AAKA,oBAAA,mBAAA,EAAA,KALA;AAMA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AANA,mBAHA;AAWA,kBAAA,KAXA,GAWA;AACA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,WADA;AAEA,oBAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,mBAXA;;AAeA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;;AAEA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CAAA;AAEA,kBAAA,MAAA,CAAA,IAAA,CAAA,YAAA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFA;;AAAA;AAAA;AAAA;AAAA,WAwBA,KAxBA,CAwBA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2CAAA;AACA,OA1BA;AA2BA;AAnCA,IARA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,eAAA;AACA;AAjDA,CAAA","sourcesContent":["<template>\r\n<v-app>\r\n   <v-card color=\"grey lighten-4\" flat  tile>\r\n      <v-toolbar dense>                 \r\n         <v-toolbar-title ><div class=\"font-weight-medium\">Medium</div></v-toolbar-title>         \r\n         <v-spacer></v-spacer>\r\n         <router-link    \r\n            to=\"/login\" tag=\"div\">\r\n            <v-btn\r\n            class=\"ma-2\"  \r\n            outlined                      \r\n            color=\"#009688\"       \r\n            >SingIn\r\n            </v-btn>\r\n         </router-link>\r\n         <router-link to=\"/register\" tag=\"div\">\r\n            <v-btn\r\n               class=\"ma-2\"  \r\n               outlined                      \r\n               color=\"#2979FF\"            \r\n            >GetStarted\r\n            </v-btn>\r\n         </router-link>\r\n      </v-toolbar>\r\n   </v-card> \r\n</v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapMutations } from \"vuex\";\r\nimport router from '../../router'\r\n  export default {\r\n     \r\n   data() {\r\n      return {\r\n         posts: []\r\n      }\r\n   },\r\n    \r\n   methods: {\r\n      ...mapMutations([\"setUser\", \"setToken\"]),\r\n       SendConfirmCode() {\r\n         console.log('gettoken');\r\n         const queryString = window.location.search;\r\n         const urlParams = new URLSearchParams(queryString);\r\n         const confirmation_code = urlParams.get('confirmation_code')\r\n         console.log(confirmation_code)\r\n         axios\r\n        .get(\"http://localhost:3000/api/auth/confirm/\".concat(confirmation_code))\r\n        .then(async res => {\r\n            // console.log(res);\r\n\r\n            const user = {\r\n               id : res.data.id,\r\n               name: res.data.name,\r\n               email: res.data.email,\r\n               bio: res.data.bio,\r\n               social_notification: false,\r\n               photo: res.data.photo,\r\n            };\r\n            const token = {\r\n               token: res.data.accessToken,\r\n               refreshToken: res.data.refreshToken\r\n            }\r\n            this.$store.dispatch('setUser', user)\r\n            this.$store.dispatch('setToken', token)\r\n\r\n            console.log(\"here:\".concat(this.$store.state.user.id));\r\n\r\n            router.push('/dashboard')\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Failed to register. Confirm account info.\");\r\n        });\r\n       },\r\n       \r\n    },\r\n\r\n   mounted() {       \r\n      this.SendConfirmCode();\r\n    },\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/auth"}]}