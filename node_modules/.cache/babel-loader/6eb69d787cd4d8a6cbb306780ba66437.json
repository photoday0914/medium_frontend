{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\router.js","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\router.js","mtime":1646452186264},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\babel.config.js","mtime":1646361081287},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1643426028315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXGRlcGxveVxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgVnVlQ29va2llcyBmcm9tICd2dWUtY29va2llcyc7CmltcG9ydCBMYW5kaW5nUGFnZSBmcm9tICcuL3ZpZXdzL0xhbmRpbmdQYWdlJzsKaW1wb3J0IExvZ2luUGFnZSBmcm9tICcuL3ZpZXdzL2F1dGgvTG9naW5QYWdlJzsKaW1wb3J0IFJlZ2lzdGVyUGFnZSBmcm9tICcuL3ZpZXdzL2F1dGgvUmVnaXN0ZXJQYWdlJzsKaW1wb3J0IExvZ2luUmVkaXJlY3RQYWdlIGZyb20gJy4vdmlld3MvYXV0aC9BdXRoUmVkaXJlY3RQYWdlJzsKaW1wb3J0IE9hdXRoUmVkaXJlY3RQYWdlIGZyb20gJy4vdmlld3MvYXV0aC9PYXV0aFJlZGlyZWN0UGFnZSc7CmltcG9ydCBEYXNoYm9hcmRQYWdlIGZyb20gJy4vdmlld3MvRGFzaGJvYXJkUGFnZSc7CmltcG9ydCBQcm9maWxlUGFnZSBmcm9tICcuL3ZpZXdzL1Byb2ZpbGVQYWdlJzsKaW1wb3J0IFdyaXRlUGFnZSBmcm9tICcuL3ZpZXdzL3N0b3J5L1dyaXRlUGFnZSc7CmltcG9ydCBZb3VyU3Rvcmllc1BhZ2UgZnJvbSAnLi92aWV3cy9zdG9yeS9Zb3VyU3Rvcmllc1BhZ2UnOwppbXBvcnQgRWRpdFBhZ2UgZnJvbSAnLi92aWV3cy9zdG9yeS9FZGl0U3RvcnlQYWdlJzsKaW1wb3J0IFZpZXdQYWdlIGZyb20gJy4vdmlld3Mvc3RvcnkvVmlld1N0b3J5UGFnZSc7CmltcG9ydCBTZWFyY2hQYWdlIGZyb20gJy4vdmlld3MvU2VhcmNoUGFnZSc7CmltcG9ydCBQdWJsaWNQcm9maWxlUGFnZSBmcm9tICcuL3ZpZXdzL1B1YmxpY1Byb2ZpbGVQYWdlLnZ1ZSc7CmltcG9ydCB7IHJlZnJlc2hUb2tlbiB9IGZyb20gJy4vc2VydmljZS9sb2dpbic7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogTGFuZGluZ1BhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfSwKICBuYW1lOiAnbGFuZGluZ1BhZ2UnCn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luUGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBjb21wb25lbnQ6IFJlZ2lzdGVyUGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2xvZ2luLXJlZGlyZWN0JywKICBjb21wb25lbnQ6IExvZ2luUmVkaXJlY3RQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvb2F1dGgtcmVkaXJlY3QnLAogIGNvbXBvbmVudDogT2F1dGhSZWRpcmVjdFBhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9kYXNoYm9hcmQnLAogIGNvbXBvbmVudDogRGFzaGJvYXJkUGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogJy9wcm9maWxlJywKICBjb21wb25lbnQ6IFByb2ZpbGVQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvd3JpdGUnLAogIGNvbXBvbmVudDogV3JpdGVQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvZWRpdCcsCiAgY29tcG9uZW50OiBFZGl0UGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3ZpZXcnLAogIGNvbXBvbmVudDogVmlld1BhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9zdG9yaWVzJywKICBjb21wb25lbnQ6IFlvdXJTdG9yaWVzUGFnZSwKICBtZXRhOiB7CiAgICB1bmF1dGhvcml6ZWQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3NlYXJjaCcsCiAgY29tcG9uZW50OiBTZWFyY2hQYWdlLAogIG1ldGE6IHsKICAgIHVuYXV0aG9yaXplZDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvcHVibGljLXByb2ZpbGUnLAogIGNvbXBvbmVudDogUHVibGljUHJvZmlsZVBhZ2UsCiAgbWV0YTogewogICAgdW5hdXRob3JpemVkOiB0cnVlCiAgfQp9IC8vIHsgcGF0aDogJyonLCByZWRpcmVjdDogJy8nIH0KXTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEoVnVlQ29va2llcy5nZXQoJ3Rva2VuJykgPT09IG51bGwgJiYgVnVlQ29va2llcy5nZXQoJ3JlZnJlc2hUb2tlbicpICE9PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHJlZnJlc2hUb2tlbigpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaWYgKCEodG8ubmFtZSA9PT0gJ2xhbmRpbmdQYWdlJyAmJiBWdWVDb29raWVzLmdldCgndG9rZW4nKSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgnL2Rhc2hib2FyZCcpKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlmICghKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC5tZXRhLnVuYXV0aG9yaXplZDsKICAgICAgICAgICAgfSkgfHwgVnVlQ29va2llcy5nZXQoJ3Rva2VuJykpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoKSk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBhbGVydCgnUGxlYXNlIGxvZ2luJyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoJy9sb2dpbicpKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/GreatHope/Documents/deploy/frontend/src/router.js"],"names":["Vue","VueRouter","VueCookies","LandingPage","LoginPage","RegisterPage","LoginRedirectPage","OauthRedirectPage","DashboardPage","ProfilePage","WritePage","YourStoriesPage","EditPage","ViewPage","SearchPage","PublicProfilePage","refreshToken","use","routes","path","component","meta","unauthorized","name","router","mode","beforeEach","to","from","next","get","matched","some","record","alert"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport VueRouter from \"vue-router\";\r\nimport VueCookies from 'vue-cookies'\r\n\r\n\r\nimport LandingPage from './views/LandingPage'\r\nimport LoginPage from './views/auth/LoginPage'\r\nimport RegisterPage from './views/auth/RegisterPage'\r\nimport LoginRedirectPage from './views/auth/AuthRedirectPage'\r\nimport OauthRedirectPage from './views/auth/OauthRedirectPage'\r\nimport DashboardPage from './views/DashboardPage'\r\nimport ProfilePage from './views/ProfilePage'\r\nimport WritePage from './views/story/WritePage'\r\nimport YourStoriesPage from './views/story/YourStoriesPage'\r\nimport EditPage from './views/story/EditStoryPage'\r\nimport ViewPage from './views/story/ViewStoryPage'\r\nimport SearchPage from './views/SearchPage'\r\nimport PublicProfilePage from './views/PublicProfilePage.vue'\r\n\r\nimport { refreshToken } from './service/login'\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  { path: '/', component: LandingPage, meta: { unauthorized : true }, name: 'landingPage' },\r\n  { path: '/login', component: LoginPage, meta: { unauthorized : true } },\r\n  { path: '/register', component: RegisterPage, meta: { unauthorized : true } },  \r\n  { path: '/login-redirect', component: LoginRedirectPage, meta: { unauthorized : true }},\r\n  { path: '/oauth-redirect', component: OauthRedirectPage, meta: { unauthorized : true }},\r\n  { path: '/dashboard', component: DashboardPage, meta: { unauthorized : false }},\r\n  { path: '/profile', component: ProfilePage, meta: { unauthorized : true }},\r\n  { path: '/write', component: WritePage, meta: { unauthorized : true }},\r\n  { path: '/edit', component: EditPage, meta: { unauthorized : true }},\r\n  { path: '/view', component: ViewPage, meta: { unauthorized : true }},\r\n  { path: '/stories', component: YourStoriesPage, meta: { unauthorized : true }},  \r\n  { path: '/search', component: SearchPage, meta: { unauthorized : true }},\r\n  { path: '/public-profile', component: PublicProfilePage, meta: { unauthorized : true }}\r\n  // { path: '*', redirect: '/' }\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach( async(to, from, next) => {\r\n\r\n  if(VueCookies.get('token')===null && VueCookies.get('refreshToken') !== null){\r\n    await refreshToken();\r\n  }\r\n  if (to.name === 'landingPage' && VueCookies.get('token')) {\r\n    return next('/dashboard');\r\n  }\r\n  if (to.matched.some(record => record.meta.unauthorized) || VueCookies.get('token')){\r\n    return next();\r\n  }\r\n\r\n    alert('Please login');\r\n    return next('/login');\r\n})\r\n\r\nexport default router;"]}]}