{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\LoginRedirectPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\src\\views\\auth\\LoginRedirectPage.vue","mtime":1644507262662},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\babel.config.js","mtime":1643429729254},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\vue_practice\\vue_project\\second\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxHcmVhdEhvcGVcXERvY3VtZW50c1xcdnVlX3ByYWN0aWNlXFx2dWVfcHJvamVjdFxcc2Vjb25kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsic2V0VXNlciIsICJzZXRUb2tlbiJdKSksIHt9LCB7CiAgICBTZW5kQ29uZmlybUNvZGU6IGZ1bmN0aW9uIFNlbmRDb25maXJtQ29kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdnZXR0b2tlbicpOwogICAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7CiAgICAgIHZhciBjb25maXJtYXRpb25fY29kZSA9IHVybFBhcmFtcy5nZXQoJ2NvbmZpcm1hdGlvbl9jb2RlJyk7CiAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1hdGlvbl9jb2RlKTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvY29uZmlybS8iLmNvbmNhdChjb25maXJtYXRpb25fY29kZSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB2YXIgdXNlciA9IHsKICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwKICAgICAgICAgIHVzZXJuYW1lOiByZXMuZGF0YS51c2VybmFtZSwKICAgICAgICAgIGVtYWlsOiByZXMuZGF0YS5lbWFpbAogICAgICAgIH07CiAgICAgICAgdmFyIHRva2VuID0gewogICAgICAgICAgdG9rZW46IHJlcy5kYXRhLmFjY2Vzc1Rva2VuLAogICAgICAgICAgcmVmcmVzaFRva2VuOiByZXMuZGF0YS5yZWZyZXNoVG9rZW4KICAgICAgICB9OwoKICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2VyKTsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRUb2tlbicsIHRva2VuKTsKCiAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJGYWlsZWQgdG8gcmVnaXN0ZXIuIENvbmZpcm0gYWNjb3VudCBpbmZvLiIpOwogICAgICB9KTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5TZW5kQ29uZmlybUNvZGUoKTsKICB9Cn07"},{"version":3,"sources":["LoginRedirectPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAQA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,UAAA,SAAA,GAAA,IAAA,eAAA,CAAA,WAAA,CAAA;AACA,UAAA,iBAAA,GAAA,SAAA,CAAA,GAAA,CAAA,mBAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,0CAAA,MAAA,CAAA,iBAAA,CADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EADA;AAEA,UAAA,QAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAFA;AAGA,UAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAHA,SAAA;AAKA,YAAA,KAAA,GAAA;AACA,UAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,WADA;AAEA,UAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,SAAA;;AAIA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA,OAhBA,EAiBA,KAjBA,CAiBA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2CAAA;AACA,OAnBA;AAoBA;AA5BA,IARA;AAwCA,EAAA,OAxCA,qBAwCA;AACA,SAAA,eAAA;AACA;AA1CA,CAAA","sourcesContent":["<template>\r\n<v-app>\r\n   <v-card\r\n   color=\"grey lighten-4\"\r\n   flat   \r\n   tile\r\n   >\r\n      <v-toolbar dense>                 \r\n         <v-toolbar-title ><div class=\"font-weight-medium\">Medium</div></v-toolbar-title>         \r\n         <v-spacer></v-spacer>\r\n         <router-link    \r\n            to=\"/login\" tag=\"div\">\r\n            <v-btn\r\n            class=\"ma-2\"  \r\n            outlined                      \r\n            color=\"#009688\"       \r\n            >SingIn\r\n            </v-btn>\r\n         </router-link>\r\n         <router-link to=\"/register\" tag=\"div\">\r\n            <v-btn\r\n               class=\"ma-2\"  \r\n               outlined                      \r\n               color=\"#2979FF\"            \r\n            >GetStarted\r\n            </v-btn>\r\n         </router-link>\r\n      </v-toolbar>\r\n   </v-card> \r\n</v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapMutations } from \"vuex\";\r\nimport router from '../../router'\r\n  export default {\r\n     \r\n   data() {\r\n      return {\r\n         posts: []\r\n      }\r\n   },\r\n    \r\n   methods: {\r\n      ...mapMutations([\"setUser\", \"setToken\"]),\r\n       SendConfirmCode() {\r\n         console.log('gettoken');\r\n         const queryString = window.location.search;\r\n         const urlParams = new URLSearchParams(queryString);\r\n         const confirmation_code = urlParams.get('confirmation_code')\r\n         console.log(confirmation_code)\r\n         axios\r\n        .get(\"http://localhost:3000/api/auth/confirm/\".concat(confirmation_code))\r\n        .then(res => {\r\n            console.log(res.data);\r\n            const user = {\r\n               id : res.data.id,\r\n               username: res.data.username,\r\n               email: res.data.email\r\n            };\r\n            const token = {\r\n               token: res.data.accessToken,\r\n               refreshToken: res.data.refreshToken\r\n            }\r\n            this.$store.dispatch('setUser', user)\r\n            this.$store.dispatch('setToken', token)\r\n            router.push('/dashboard')\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Failed to register. Confirm account info.\");\r\n        });\r\n       },\r\n       \r\n    },\r\n\r\n   mounted() {       \r\n      this.SendConfirmCode();\r\n    },\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/auth"}]}