{"remainingRequest":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\views\\auth\\AuthRedirectPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\src\\views\\auth\\AuthRedirectPage.vue","mtime":1646452243167},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\babel.config.js","mtime":1646361081287},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1643426032229},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643426027151},{"path":"C:\\Users\\GreatHope\\Documents\\deploy\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1643426033742}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcR3JlYXRIb3BlXFxEb2N1bWVudHNcXGRlcGxveVxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOlxcVXNlcnNcXEdyZWF0SG9wZVxcRG9jdW1lbnRzXFxkZXBsb3lcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZy9jb25maWcnOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsic2V0VXNlciIsICJzZXRUb2tlbiJdKSksIHt9LCB7CiAgICBTZW5kQ29uZmlybUNvZGU6IGZ1bmN0aW9uIFNlbmRDb25maXJtQ29kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdnZXR0b2tlbicpOwogICAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7CiAgICAgIHZhciBjb25maXJtYXRpb25fY29kZSA9IHVybFBhcmFtcy5nZXQoJ2NvbmZpcm1hdGlvbl9jb2RlJyk7CiAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1hdGlvbl9jb2RlKTsKICAgICAgYXhpb3MuZ2V0KGNvbmZpZy5iYXNlVXJsICsgIi9hcGkvYXV0aC9jb25maXJtLyIuY29uY2F0KGNvbmZpcm1hdGlvbl9jb2RlKSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHZhciB1c2VyLCB0b2tlbjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgdXNlciA9IHsKICAgICAgICAgICAgICAgICAgICBpZDogcmVzLmRhdGEuaWQsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVzLmRhdGEubmFtZSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogcmVzLmRhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgYmlvOiByZXMuZGF0YS5iaW8sCiAgICAgICAgICAgICAgICAgICAgc29jaWFsX25vdGlmaWNhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgcGhvdG86IHJlcy5kYXRhLnBob3RvCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIHRva2VuID0gewogICAgICAgICAgICAgICAgICAgIHRva2VuOiByZXMuZGF0YS5hY2Nlc3NUb2tlbiwKICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlcy5kYXRhLnJlZnJlc2hUb2tlbgogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VyJywgdXNlcik7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFRva2VuJywgdG9rZW4pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRMb2dnZWRJbicsIHRydWUpOwoKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJGYWlsZWQgdG8gcmVnaXN0ZXIuIENvbmZpcm0gYWNjb3VudCBpbmZvLiIpOwogICAgICB9KTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5TZW5kQ29uZmlybUNvZGUoKTsKICB9Cn07"},{"version":3,"sources":["AuthRedirectPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,qBAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAQA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,UAAA,SAAA,GAAA,IAAA,eAAA,CAAA,WAAA,CAAA;AACA,UAAA,iBAAA,GAAA,SAAA,CAAA,GAAA,CAAA,mBAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,MAAA,CAAA,OAAA,GAAA,qBAAA,MAAA,CAAA,iBAAA,CADA,EAEA,IAFA;AAAA,2EAEA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,kBAAA,IAHA,GAGA;AACA,oBAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EADA;AAEA,oBAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAFA;AAGA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAHA;AAIA,oBAAA,GAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAJA;AAKA,oBAAA,mBAAA,EAAA,KALA;AAMA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AANA,mBAHA;AAWA,kBAAA,KAXA,GAWA;AACA,oBAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,WADA;AAEA,oBAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,mBAXA;;AAeA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,IAAA;;AAEA,kBAAA,MAAA,CAAA,IAAA,CAAA,YAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFA;;AAAA;AAAA;AAAA;AAAA,WAuBA,KAvBA,CAuBA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2CAAA;AACA,OAzBA;AA0BA;AAlCA,IARA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,eAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\r\n<v-app>\r\n   <v-card color=\"grey lighten-4\" flat  tile>\r\n      <v-toolbar dense>                 \r\n         <v-toolbar-title ><div class=\"font-weight-medium\">Medium</div></v-toolbar-title>         \r\n         <v-spacer></v-spacer>\r\n         <router-link to=\"/login\" tag=\"div\">\r\n            <v-btn class=\"ma-2\"  outlined  color=\"#009688\">SingIn</v-btn>\r\n         </router-link>\r\n         <router-link to=\"/register\" tag=\"div\">\r\n            <v-btn class=\"ma-2\" outlined color=\"#2979FF\">GetStarted</v-btn>\r\n         </router-link>\r\n      </v-toolbar>\r\n   </v-card> \r\n</v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from '../../config/config'\r\nimport { mapMutations } from \"vuex\";\r\nimport router from '../../router'\r\n  export default {\r\n     \r\n   data() {\r\n      return {\r\n         posts: []\r\n      }\r\n   },\r\n    \r\n   methods: {\r\n      ...mapMutations([\"setUser\", \"setToken\"]),\r\n       SendConfirmCode() {\r\n         console.log('gettoken');\r\n         const queryString = window.location.search;\r\n         const urlParams = new URLSearchParams(queryString);\r\n         const confirmation_code = urlParams.get('confirmation_code')\r\n         console.log(confirmation_code)\r\n         axios\r\n        .get(config.baseUrl+\"/api/auth/confirm/\".concat(confirmation_code))\r\n        .then(async res => {\r\n            // console.log(res);\r\n\r\n            const user = {\r\n               id : res.data.id,\r\n               name: res.data.name,\r\n               email: res.data.email,\r\n               bio: res.data.bio,\r\n               social_notification: false,\r\n               photo: res.data.photo,\r\n            };\r\n            const token = {\r\n               token: res.data.accessToken,\r\n               refreshToken: res.data.refreshToken\r\n            }\r\n            this.$store.dispatch('setUser', user)\r\n            this.$store.dispatch('setToken', token)\r\n            this.$store.dispatch('setLoggedIn', true);\r\n\r\n            router.push('/dashboard')\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Failed to register. Confirm account info.\");\r\n        });\r\n       },\r\n       \r\n    },\r\n\r\n   mounted() {       \r\n      this.SendConfirmCode();\r\n    },\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/auth"}]}